#!/usr/bin/env python3
"""
生成完整的A股名称映射
基于股票代码和已知的A股名称数据
"""

import json
from unified_decision_engine import UnifiedDecisionEngine

def get_complete_stock_names():
    """生成完整的443只A股名称映射"""
    
    # 完整的A股名称映射 (基于沪深300、创业板、科创板主要股票)
    complete_names = {
        # 沪深300核心股票
        '000001': '平安银行', '000002': '万科A', '000063': '中兴通讯', '000100': 'TCL科技',
        '000157': '中联重科', '000166': '申万宏源', '000301': '东方盛虹', '000333': '美的集团',
        '000338': '潍柴动力', '000423': '东阿阿胶', '000568': '泸州老窖', '000625': '长安汽车',
        '000651': '格力电器', '000683': '远兴能源', '000686': '东北证券', '000703': '恒逸石化',
        '000725': '京东方A', '000768': '中航西飞', '000776': '广发证券', '000783': '长江证券',
        '000792': '盐湖股份', '000839': '中信证券', '000858': '五粮液', '000876': '新希望',
        '000895': '双汇发展', '000898': '鞍钢股份', '000938': '紫光股份', '000961': '中南建设',
        '000977': '浪潮信息', '000983': '西山煤电', '002001': '新和成', '002008': '大族激光',
        '002024': '苏宁易购', '002027': '分众传媒', '002049': '紫光国微', '002065': '东华软件',
        '002081': '金螳螂', '002120': '韵达股份', '002129': '中环股份', '002142': '宁波银行',
        '002153': '石基信息', '002174': '游族网络', '002179': '中航光电', '002202': '金风科技',
        '002230': '科大讯飞', '002236': '大华股份', '002241': '歌尔股份', '002252': '上海莱士',
        '002271': '东方雨虹', '002304': '洋河股份', '002311': '海大集团', '002317': '众生药业',
        '002332': '仙琚制药', '002344': '海宁皮城', '002352': '顺丰控股', '002371': '北方华创',
        '002405': '四维图新', '002410': '广联达', '002415': '海康威视', '002422': '科伦药业',
        '002456': '欧菲光', '002460': '赣锋锂业', '002466': '天齐锂业', '002475': '立讯精密',
        '002493': '荣盛石化', '002507': '涪陵榨菜', '002555': '三七互娱', '002558': '巨人网络',
        '002572': '索菲亚', '002594': '比亚迪', '002601': '龙蟒佰利', '002602': '世纪华通',
        '002624': '完美世界', '002648': '卫星石化', '002673': '西部证券', '002709': '天赐材料',
        '002714': '牧原股份', '002736': '国信证券', '002739': '万达电影', '002756': '永兴材料',
        '002773': '康弘药业', '002821': '凯莱英', '002841': '视源股份', '002938': '鹏鼎控股',
        '002945': '华林证券', '002958': '青农商行',
        
        # 创业板股票
        '300001': '特锐德', '300002': '神州泰岳', '300003': '乐普医疗', '300004': '南风股份',
        '300005': '探路者', '300006': '莱美药业', '300007': '汉威科技', '300008': '天海防务',
        '300009': '安科生物', '300010': '立思辰', '300011': '鼎汉技术', '300012': '华测检测',
        '300013': '新宁物流', '300014': '亿纬锂能', '300015': '爱尔眼科', '300016': '北陆药业',
        '300017': '网宿科技', '300018': '中元股份', '300019': '硅宝科技', '300020': '银江股份',
        '300021': '大禹节水', '300022': '吉峰科技', '300023': '宝德股份', '300024': '机器人',
        '300025': '华星创业', '300026': '红日药业', '300027': '华谊兄弟', '300028': '金亚科技',
        '300029': '天龙光电', '300030': '阳普医疗', '300031': '宝通科技', '300032': '金龙机电',
        '300033': '同花顺', '300034': '钢研高纳', '300035': '中科电气', '300036': '超图软件',
        '300037': '新宙邦', '300038': '梅泰诺', '300039': '上海凯宝', '300040': '九洲药业',
        '300041': '回天新材', '300042': '朗科科技', '300043': '互动娱乐', '300044': '赛为智能',
        '300045': '华力创通', '300046': '台基股份', '300047': '天源迪科', '300048': '合康新能',
        '300049': '福瑞股份', '300050': '世纪鼎利', '300051': '三五互联', '300052': '中青宝',
        '300053': '欧比特', '300054': '鼎龙股份', '300055': '万邦达', '300056': '三维丝',
        '300057': '万顺股份', '300058': '蓝色光标', '300059': '东方财富', '300060': '福耀玻璃',
        '300061': '康耐特', '300062': '中能电气', '300063': '天龙集团', '300064': '豫金刚石',
        '300065': '海兰信', '300066': '三川智慧', '300067': '安诺其', '300068': '南都电源',
        '300069': '金利华电', '300070': '碧水源', '300071': '华谊嘉信', '300072': '三聚环保',
        '300073': '当升科技', '300074': '华平股份', '300075': '数字政通', '300076': 'GQY视讯',
        '300077': '国民技术', '300078': '思创医惠', '300079': '数码科技', '300080': '易成新能',
        '300081': '恒信东方', '300082': '奥克股份', '300083': '劲胜智能', '300084': '海默科技',
        '300085': '银之杰', '300086': '康芝药业', '300087': '荃银高科', '300088': '长信科技',
        '300089': '文化长城', '300090': '盛运环保', '300091': '金通灵', '300092': '科新机电',
        '300093': '金刚玻璃', '300094': '国联水务', '300095': '华伍股份', '300096': '易联众',
        '300097': '智云股份', '300098': '高新兴', '300099': '尤洛卡',
        
        # 后续创业板
        '300122': '智飞生物', '300124': '汇川技术', '300136': '信维通信', '300142': '沃森生物',
        '300274': '阳光电源', '300308': '中际旭创', '300316': '晶盛机电', '300325': '德威新材',
        '300347': '泰格医药', '300357': '我武生物', '300363': '博腾股份', '300373': '扇贝科技',
        '300383': '光环新网', '300390': '天华超净', '300408': '三环集团', '300413': '芒果超媒',
        '300418': '昆仑万维', '300433': '蓝思科技', '300450': '先导智能', '300454': '深信服',
        '300482': '万孚生物', '300496': '中科创达', '300529': '健帆生物', '300558': '贝达药业',
        '300568': '星源材质', '300595': '欧普康视', '300601': '康泰生物', '300618': '寒锐钴业',
        '300628': '亿联网络', '300676': '华大基因', '300682': '朗新科技', '300699': '光威复材',
        '300724': '捷佳伟创', '300738': '奥飞数据', '300750': '宁德时代', '300751': '迈为股份',
        '300759': '康龙化成', '300760': '迈瑞医疗', '300772': '运达风电', '300782': '卓胜微',
        '300896': '爱美客', '300919': '中伟股份', '300957': '贝泰妮', '300979': '华利集团',
        '300999': '金龙鱼',
        
        # 科创板股票 (688开头)
        '688001': '华兴源创', '688002': '睿创微纳', '688003': '天准科技', '688005': '容百科技',
        '688006': '杭可科技', '688007': '光峰科技', '688008': '澜起科技', '688009': '中国通号',
        '688010': '福光股份', '688011': '新光光电', '688012': '中微公司', '688013': '天臣医疗',
        '688015': '交控科技', '688016': '心脉医疗', '688017': '绿的谐波', '688018': '乐鑫科技',
        '688019': '安集科技', '688020': '方邦股份', '688021': '奥福环保', '688022': '瀚川智能',
        '688023': '安恒信息', '688025': '崧智股份', '688026': '洁特生物', '688027': '国盾量子',
        '688028': '沃尔德', '688029': '南微医学', '688030': '山石网科', '688031': '贝斯达',
        '688032': '禾迈股份', '688033': '天宜上佳', '688035': '德马科技', '688036': '传音控股',
        '688037': '芯源微', '688038': '赛特斯', '688039': '瀚川智能', '688041': '海光信息',
        '688045': '航天宏图', '688046': '药康生物', '688047': '龙芯中科', '688048': '长光华芯',
        '688049': '炬光科技', '688050': '爱博医疗', '688051': '佰仁医疗', '688052': '纳芯微',
        '688053': '金山办公', '688055': '龙腾光电', '688056': '莱伯泰科', '688057': '金现代',
        '688058': '宝兰德', '688059': '华锋股份', '688060': '云涌科技', '688061': '聚辰股份',
        '688062': '福昕软件', '688063': '派能科技', '688065': '凯赛生物', '688066': '航天发展',
        '688067': '爱威科技', '688068': '热景生物', '688069': '德林海', '688070': '纵横股份',
        '688071': '华大智造', '688072': '拓荆科技', '688073': '上海贝岭', '688075': '安旭生物',
        '688076': '诺泰生物', '688077': '大地熊', '688078': '龙软科技', '688079': '美迪西',
        '688080': '映翰通', '688081': '兴图新科', '688082': '盛美上海', '688083': '中望软件',
        '688085': '三友医疗', '688086': '紫光国微', '688087': '英科再生', '688088': '虹软科技',
        '688111': '金山办公', '688126': '沪硅产业', '688169': '石头科技', '688180': '君实生物',
        '688187': '时代电气', '688208': '道通科技', '688223': '晶科能源', '688256': '寒武纪',
        '688271': '联影医疗', '688290': '景业智能', '688303': '大全能源', '688363': '华熙生物',
        '688396': '华润微', '688561': '奇安信', '688599': '天合光能', '688981': '中芯国际',
        '689009': '九号公司',
        
        # 主板股票 (600、601开头)
        '600000': '浦发银行', '600004': '白云机场', '600009': '上海机场', '600010': '包钢股份',
        '600011': '华能国际', '600015': '华夏银行', '600016': '民生银行', '600018': '上港集团',
        '600019': '宝钢股份', '600025': '华能水电', '600028': '中国石化', '600029': '南方航空',
        '600030': '中信证券', '600031': '三一重工', '600035': '楚天高速', '600036': '招商银行',
        '600038': '中直股份', '600039': '四川路桥', '600048': '保利发展', '600050': '中国联通',
        '600058': '五矿发展', '600061': '国投资本', '600066': '宇通客车', '600068': '葛洲坝',
        '600085': '同仁堂', '600089': '特变电工', '600104': '上汽集团', '600110': '诺德股份',
        '600111': '北方稀土', '600115': '东方航空', '600150': '中国船舶', '600170': '上海建工',
        '600177': '雅戈尔', '600183': '生益科技', '600188': '兖州煤业', '600195': '中牧股份',
        '600196': '复星医药', '600208': '新湖中宝', '600216': '浙江医药', '600233': '圆通速递',
        '600256': '广汇能源', '600271': '航天信息', '600276': '恒瑞医药', '600309': '万华化学',
        '600362': '江西铜业', '600383': '金地集团', '600519': '贵州茅台', '600547': '山东黄金',
        '600585': '海螺水泥', '600588': '用友网络', '600690': '海尔智家', '600703': '三安光电',
        '600741': '华域汽车', '600745': '闻泰科技', '600809': '山西汾酒', '600837': '海通证券',
        '600887': '伊利股份', '600919': '江苏银行', '600958': '东方证券', '600968': '海油发展',
        '600999': '招商证券', '601006': '大秦铁路', '601012': '隆基绿能', '601066': '中信建投',
        '601088': '中国神华', '601138': '工业富联', '601166': '兴业银行', '601169': '北京银行',
        '601186': '中国铁建', '601211': '国泰君安', '601229': '上海银行', '601238': '广汽集团',
        '601288': '农业银行', '601318': '中国平安', '601328': '交通银行', '601336': '新华保险',
        '601360': '三六零', '601390': '中国中铁', '601398': '工商银行', '601601': '中国太保',
        '601628': '中国人寿', '601633': '长城汽车', '601688': '华泰证券', '601698': '中国卫通',
        '601728': '中国电信', '601766': '中国中车', '601788': '光大证券', '601799': '星宇股份',
        '601816': '京沪高铁', '601818': '光大银行', '601857': '中国石油', '601865': '福莱特',
        '601877': '正泰电器', '601878': '浙商证券', '601888': '中国中免', '601899': '紫金矿业',
        '601933': '永辉超市', '601939': '建设银行',
        
        # 新增科创板和创业板后续股票
        '301015': '百洋医药', '301029': '怡合达', '301048': '金鹰重工', '301056': '森马服饰',
        '301076': '盛帮股份', '301087': '可孚医疗', '301111': '龙竹科技', '301138': '欧克科技',
        '301151': '冠盛股份', '301186': '汇绿生态', '301200': '大族数控', '301208': '优机股份',
        '301236': '软通动力', '301269': '华大九天', '301287': '建研设计', '301296': '超达装备',
        '301308': '江波龙', '301319': '唯特偶', '301326': '倍轻松', '301329': '海尔生物',
        '301339': '通行宝', '301348': '博汇科技'
    }
    
    return complete_names

def update_stock_names():
    """更新股票名称映射"""
    complete_names = get_complete_stock_names()
    
    print(f"📊 完整股票名称映射包含 {len(complete_names)} 只股票")
    
    # 检查覆盖率
    engine = UnifiedDecisionEngine()
    all_stocks = engine.get_all_stocks()
    
    covered = 0
    missing = []
    
    for symbol in all_stocks:
        if symbol in complete_names:
            covered += 1
        else:
            missing.append(symbol)
    
    print(f"✅ 已覆盖: {covered} 只股票")
    print(f"❌ 未覆盖: {len(missing)} 只股票") 
    print(f"📊 覆盖率: {covered/len(all_stocks)*100:.1f}%")
    
    if missing:
        print(f"\n🔍 缺失的股票代码 (前20个):")
        for symbol in missing[:20]:
            print(f"  {symbol}")
    
    # 生成更新后的代码
    print(f"\n💡 需要将以下代码添加到 unified_decision_engine.py 中:")
    print("```python")
    print("def get_stock_name(self, symbol):")
    print('    """获取股票名称"""')
    print("    name_map = {")
    
    # 分组显示，便于阅读
    symbols = list(complete_names.keys())
    for i in range(0, len(symbols), 4):
        line_symbols = symbols[i:i+4]
        line = "        "
        for j, symbol in enumerate(line_symbols):
            line += f"'{symbol}': '{complete_names[symbol]}'"
            if j < len(line_symbols) - 1:
                line += ", "
        line += ","
        print(line)
    
    print("    }")
    print(f"    return name_map.get(symbol, f'股票{{symbol}}')")
    print("```")

if __name__ == "__main__":
    update_stock_names()